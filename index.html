<html>
<head>
<link href="https://unpkg.com/cloudinary-video-player/dist/cld-video-player.min.css" rel="stylesheet">
<script>

</script>
<style>
body {font-family:sans-serif;}
div#demo-player {max-height:80%;}
</style>
</head>

<body>
<h1>Cloudinary HLS Player</h1>

    <link href="https://unpkg.com/cloudinary-video-player/dist/cld-video-player.min.css" rel="stylesheet">
    <script src="https://unpkg.com/cloudinary-core/cloudinary-core-shrinkwrap.min.js" type="text/javascript"></script>
    <script src="https://unpkg.com/cloudinary-video-player/dist/cld-video-player.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dashjs/2.6.3/dash.all.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-dash/2.9.2/videojs-dash.min.js" type="text/javascript"></script>
<div style="   width:400px;">
  <video id="demo-player" controls autoplay class="cld-video-player cld-fluid">
  </video>
</div>
    <script>
    	const params = new Proxy(new URLSearchParams(window.location.search), {
		  get: (searchParams, prop) => searchParams.get(prop),
		});
		// Get the value of "some_key" in eg "https://example.com/?some_key=some_value"
		let pubID = params.pubID; // "some_value"
        var cld = cloudinary.Cloudinary.new({cloud_name: "patrickg-assets", secure: true});
        var player = cld.videoPlayer('demo-player', {
            posterOptions: {
                transformation: {
                    start_offset: 0,
                }
            }
        })


        player.source({
            publicId: pubID,
        },{ sourceTypes: ['hls']})
    </script>

</body>
</html>
